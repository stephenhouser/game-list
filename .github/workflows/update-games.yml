name: update-bgg-games
on:
  schedule:
    - cron: '0 0 * * *'
  workflow_dispatch:
    # Inputs the workflow accepts.
    inputs:
      name:
        # Friendly description to be shown in the UI instead of 'name'
        description: 'BGG Username to Pull'
        # Default value if no value is explicitly provided
        default: '0xACE'
        # Input has to be provided for the workflow to run
        required: true  
jobs:
  update-bgg:
    runs-on: ubuntu-latest
    steps:
      - run: curl -o dl-collection.xml https://boardgamegeek.com/xmlapi2/collection\?username\=0xACE
      - run: curl -o dl-plays.xml https://boardgamegeek.com/xmlapi2/plays\?username\=0xACE
      - run: ls -l
      - name: Check out repository code
        uses: actions/checkout@v2
      - run: diff ${{ github.workspace }}/bgg-collection.xml dl-collection.xml
      - run: diff ${{ github.workspace }}/bgg-plays.xml dl-plays.xml
